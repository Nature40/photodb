(function(t){function e(e){for(var r,a,s=e[0],d=e[1],c=e[2],l=0,p=[];l<s.length;l++)a=s[l],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&p.push(n[a][0]),n[a]=0;for(r in d)Object.prototype.hasOwnProperty.call(d,r)&&(t[r]=d[r]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),o()}function o(){for(var t,e=0;e<i.length;e++){for(var o=i[e],r=!0,a=1;a<o.length;a++){var s=o[a];0!==n[s]&&(r=!1)}r&&(i.splice(e--,1),t=d(d.s=o[0]))}return t}var r={},a={1:0},n={1:0},i=[];function s(t){return d.p+"js/"+({}[t]||t)+"."+{2:"95d6a8b0",3:"7f461285",4:"2a853cbd",5:"0157eb55",6:"fbfc628c"}[t]+".js"}function d(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,d),o.l=!0,o.exports}d.e=function(t){var e=[],o={2:1,3:1,4:1};a[t]?e.push(a[t]):0!==a[t]&&o[t]&&e.push(a[t]=new Promise((function(e,o){for(var r="css/"+({}[t]||t)+"."+{2:"63a5e536",3:"9de38309",4:"dfe71a99",5:"31d6cfe0",6:"31d6cfe0"}[t]+".css",n=d.p+r,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var c=i[s],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===r||l===n))return e()}var p=document.getElementsByTagName("style");for(s=0;s<p.length;s++){c=p[s],l=c.getAttribute("data-href");if(l===r||l===n)return e()}var u=document.createElement("link");u.rel="stylesheet",u.type="text/css",u.onload=e,u.onerror=function(e){var r=e&&e.target&&e.target.src||n,i=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete a[t],u.parentNode.removeChild(u),o(i)},u.href=n;var h=document.getElementsByTagName("head")[0];h.appendChild(u)})).then((function(){a[t]=0})));var r=n[t];if(0!==r)if(r)e.push(r[2]);else{var i=new Promise((function(e,o){r=n[t]=[e,o]}));e.push(r[2]=i);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,d.nc&&l.setAttribute("nonce",d.nc),l.src=s(t);var p=new Error;c=function(e){l.onerror=l.onload=null,clearTimeout(u);var o=n[t];if(0!==o){if(o){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;p.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",p.name="ChunkLoadError",p.type=r,p.request=a,o[1](p)}n[t]=void 0}};var u=setTimeout((function(){c({type:"timeout",target:l})}),12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(e)},d.m=t,d.c=r,d.d=function(t,e,o){d.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},d.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},d.t=function(t,e){if(1&e&&(t=d(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(d.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)d.d(o,r,function(e){return t[e]}.bind(null,r));return o},d.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return d.d(e,"a",e),e},d.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},d.p="",d.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var p=0;p<c.length;p++)e(c[p]);var u=l;i.push([0,0]),o()})({0:function(t,e,o){t.exports=o("2f39")},"2f39":function(t,e,o){"use strict";o.r(e);o("5319"),o("7d6e"),o("e54f"),o("985d"),o("31cd");var r=o("2b0e"),a=o("1f91"),n=o("42d2"),i=o("b05d");r["a"].use(i["a"],{config:{},lang:a["a"],iconSet:n["a"]});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"fit",attrs:{id:"q-app"}},[e("router-view")],1)},d=[],c={name:"App"},l=c,p=o("2877"),u=Object(p["a"])(l,s,d,!1,null,null,null),h=u.exports,f=(o("ddb0"),o("2f62")),v={namespaced:!0,state:()=>({data:[],loading:!1,error:void 0}),getters:{},mutations:{setLoading(t){t.loading=!0,t.error=void 0},setData(t,e){t.loading=!1,t.data=e},setError(t,e){t.loading=!1,t.error=e}},actions:{async query({commit:t,rootGetters:e,dispatch:o},r){t("setLoading"),t("setData",[]),o("photo/setIndex",0,{root:!0});try{var a=await e.apiGET(["photodb2","photos"],{params:r});t("setData",a.data.photos),o("photo/setIndex",0,{root:!0})}catch(n){t("setError","error")}}}},m={namespaced:!0,state:()=>({data:void 0,loading:!1,error:void 0,date:void 0}),getters:{},mutations:{setLoading(t){t.loading=!0,t.error=void 0,t.data=void 0,t.date=void 0},setData(t,e){t.loading=!1,t.data=e,t.date=void 0===e?void 0:new Date(Date.parse(e.date+"Z"))},setError(t,e){t.loading=!1,t.error=e}},actions:{async refresh({rootState:t,commit:e,rootGetters:o}){if(e("setLoading"),e("setData",void 0),void 0!==t.photo.photo){var r={detections:!0};console.log(t.photo.photo);try{var a=await o.apiGET(["photodb2","photos",t.photo.photo],{params:r});e("setData",a.data.photo)}catch(n){console.log(n),e("setError","error")}}}}},g={namespaced:!0,modules:{meta:m},state:()=>({index:void 0,photo:void 0}),getters:{hasPrev:(t,e,o)=>t.index>0&&t.index<o.photos.data.length,hasNext:(t,e,o)=>t.index>=0&&t.index+1<o.photos.data.length},mutations:{setIndexAndPhoto(t,{index:e,photo:o}){t.index=e,t.photo=o}},actions:{setIndex({commit:t,rootState:e,dispatch:o},r){var a=e.photos.data[r];t("setIndexAndPhoto",{index:r,photo:a}),o("meta/refresh")},move({state:t,rootState:e,dispatch:o},r){var a=t.index+r;a>=0&&a<e.photos.data.length&&o("setIndex",a)}}},y={namespaced:!0,state:()=>({data:void 0,loading:!1,error:void 0}),getters:{},mutations:{setLoading(t){t.loading=!0,t.error=void 0},setData(t,e){t.loading=!1,t.data=e},setError(t,e){t.loading=!1,t.error=e}},actions:{init({state:t,dispatch:e}){void 0===t.data&&e("refresh")},async refresh({commit:t,rootGetters:e}){t("setLoading");try{var o=await e.apiGET(["photodb2"],{params:{projects:!0}});t("setData",o.data)}catch{t("setError","error")}}}},b={namespaced:!0,state:()=>({data:void 0,loading:!1,error:void 0}),getters:{},mutations:{setLoading(t){t.loading=!0,t.error=void 0},setData(t,e){t.loading=!1,t.data=e},setError(t,e){t.loading=!1,t.error=e}},actions:{init({state:t,dispatch:e}){void 0===t.data&&e("refresh")},async query({rootState:t,commit:e,rootGetters:o},r){e("setLoading"),void 0===r&&(r={}),r.locations=!0,r.classification_definitions=!0,r.review_lists=!0;try{var a=await o.apiGET(["photodb2"],{params:r});e("setData",a.data)}catch(n){console.log(n),e("setError","error")}}}};r["a"].use(f["a"]);const w=!1;var x=function(){const t=new f["a"].Store({modules:{photos:v,photo:g,projects:y,meta:b},strict:!1,state:()=>({project:void 0}),getters:{api:t=>(...t)=>{var e=t.join("/");return w?"http://localhost:8080/"+e:"/"+e},apiGET:(t,e)=>(t,o)=>{var a=e.api(...t);return r["a"].prototype.$axios.get(a,o)},apiPOST:(t,e)=>(t,o,a)=>{var n=e.api(...t);return console.log("POST "+n),r["a"].prototype.$axios.post(n,o,a)}},mutations:{setProject_internal(t,e){t.project=e}},actions:{setProject({commit:t,state:e,dispatch:o},r){t("setProject_internal",r),o("meta/query",{project:e.project})}}});return t},P=o("8c4f");const j=[{path:"/",component:()=>Promise.all([o.e(0),o.e(5)]).then(o.bind(null,"713b")),children:[{path:"",redirect:"query"},{path:"query",component:()=>Promise.all([o.e(0),o.e(3)]).then(o.bind(null,"9dec"))},{path:"browser",component:()=>Promise.all([o.e(0),o.e(2)]).then(o.bind(null,"e5fd"))},{path:"viewer",component:()=>Promise.all([o.e(0),o.e(4)]).then(o.bind(null,"89e6"))}]},{path:"*",component:()=>Promise.all([o.e(0),o.e(6)]).then(o.bind(null,"e51e"))}];var E=j;r["a"].use(P["a"]);var S=function(){const t=new P["a"]({scrollBehavior:()=>({x:0,y:0}),routes:E,mode:"hash",base:""});return t},O=async function(){const t="function"===typeof x?await x({Vue:r["a"]}):x,e="function"===typeof S?await S({Vue:r["a"],store:t}):S;t.$router=e;const o={router:e,store:t,render:t=>t(h),el:"#q-app"};return{app:o,store:t,router:e}},_=o("bc3a"),D=o.n(_);r["a"].prototype.$axios=D.a;const T="";async function L(){const{app:t,store:e,router:o}=await O();let a=!1;const n=t=>{a=!0;const e=Object(t)===t?o.resolve(t).route.fullPath:t;window.location.href=e},i=window.location.href.replace(window.location.origin,""),s=[void 0];for(let c=0;!1===a&&c<s.length;c++)if("function"===typeof s[c])try{await s[c]({app:t,router:o,store:e,Vue:r["a"],ssrContext:null,redirect:n,urlPath:i,publicPath:T})}catch(d){return d&&d.url?void(window.location.href=d.url):void console.error("[Quasar] boot error:",d)}!0!==a&&new r["a"](t)}L()},"31cd":function(t,e,o){}});